function Track(t){this.originalQuery=t,this.cleanedQuery=this.normalizeSearchQuery(t),this.spotifyMatches=[],this.selectedMatch=-1,this.downloadUrl="",this.sourceUrl=""}Track.prototype.trackLength=function(){var t=this.getSelectedSong(),e=t.duration_ms/1e3,r=parseInt(e%60),s=parseInt((e-r)/60);return("00"+s).slice(-2)+":"+("00"+r).slice(-2)},Track.prototype.setSelectedMatch=function(t){if(0>t||t>this.spotifyMatches.length-1)throw new Error("Selected Match out of bounds");this.selectedMatch=t},Track.prototype.getSelectedSong=function(){return 0===this.spotifyMatches.length?null:1===this.spotifyMatches.length?this.spotifyMatches[0]:this.spotifyMatches[this.selectedMatch]},Track.prototype.normalizeSearchQuery=function(t){var e=t;return e=e.replace(/\[(\w*|\s*|\/|-)+\]/gi,""),e=e.replace(/(\[(\d*)?:?\d+:\d+\])/,""),e=e.replace(/(\[|\()+\d*(\]|\))+/,""),e=e.replace(/[^\w\s]/gi,"")},Track.prototype.createDisplayNameForSelectedSong=function(){return this.createDisplayName(this.getSelectedSong())},Track.prototype.createDisplayName=function(t){return this.artist()+" - "+t.name},Track.prototype.artist=function(){for(var t=this.getSelectedSong(),e="",r=0;r<t.artists.length;r+=1)e+=r<t.artists.length-1?t.artists[r].name+", ":t.artists[r].name;return e},Track.prototype.createSpotifyUriForTrack=function(t){return"spotify:track:"+this.spotifyMatches[t]},Track.prototype.addSpotifyMatches=function(t){for(var e=0;e<t.length;e+=1)this.spotifyMatches.push(t[e]);this.spotifyMatches.length>1&&(this.selectedMatch=0)},Track.prototype.createExportText=function(t){function e(t){function e(t){return(10>t?"0":"")+t}var r=t%1e3;t=(t-r)/1e3;var s=t%60;t=(t-s)/60;var a=t%60,i=(t-a)/60,n="";return e(i)+":"+e(a)+":"+e(s)}var r=[],s=this.spotifyMatches[0]||null,a=";"===t.separator?",":";";return s?(t.title&&r.push(s.name),t.artist&&r.push(s.artists.map(function(t){return t.name}).join(a)),t.album&&r.push(s.album.name),t.isrc&&r.push(s.external_ids.isrc),t.length&&r.push(e(s.duration_ms)),t.spotifyId&&r.push(s.id),r.join(" "+t.separator+" ")):r};
//# sourceMappingURL=./track-min.js.map