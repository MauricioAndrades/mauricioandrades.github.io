var menu=document.querySelector(".nav_list"),burger=document.querySelector(".burger"),doc=$(document),l=$(".scrolly"),panel=$(".panel"),vh=$(window).height(),openMenu=function(){burger.classList.toggle("burger--active"),menu.classList.toggle("nav_list--active")},scrollFx=function(){for(var e=doc.scrollTop(),t=vh/4,n=0;n<panel.length;n++)panel.eq(n).offset().top<e+t?panel.eq(n).find(".panel_content").addClass("panel_content--active"):panel.eq(n).find(".panel_content").removeClass("panel_content--active")},scrolly=function(e){e.preventDefault();var t=this.hash,n=$(t);$("html, body").stop().animate({scrollTop:n.offset().top},300,"swing",function(){window.location.hash=t})},init=function(){burger.addEventListener("click",openMenu,!1),window.addEventListener("scroll",scrollFx,!1),window.addEventListener("load",scrollFx,!1),$('a[href^="#"]').on("click",scrolly)};doc.on("ready",init);var importScript=function(e){function t(e){throw new URIError("The script "+e.target.src+" is not accessible.")}return function(n,o){var a=document.createElement("script");a.type="text/javascript",a.onerror=t,o&&(a.onload=o),e.appendChild(a),a.src=n}}(document.head||document.getElementsByTagName("head")[0]),text="";$("textarea").on("focusout",function e(){console.log($(this).val()),text=$(this).val().split("/\n")}),text.split("/\n"),console.log(text);var parse=function(){var e=$("textarea").val(),t=e.split("\n");$.each(t,function(e,t){console.log(t)})};$(function(){$("button").on("click",parse)});var templateSource=document.getElementById("results-template").innerHTML,template=Handlebars.compile(templateSource),resultsPlaceholder=document.getElementById("results"),playingCssClass="playing",audioObject=null,fetchTracks=function(e,t){$.ajax({url:"https://api.spotify.com/v1/albums/"+e,success:function(e){t(e)}})},searchAlbums=function(e){$.ajax({url:"https://api.spotify.com/v1/search",data:{q:e,type:"album"},success:function(e){resultsPlaceholder.innerHTML=template(e)}})};results.addEventListener("click",function(e){var t=e.target;null!==t&&t.classList.contains("cover")&&(t.classList.contains(playingCssClass)?audioObject.pause():(audioObject&&audioObject.pause(),fetchTracks(t.getAttribute("data-album-id"),function(e){audioObject=new Audio(e.tracks.items[0].preview_url),audioObject.play(),t.classList.add(playingCssClass),audioObject.addEventListener("ended",function(){t.classList.remove(playingCssClass)}),audioObject.addEventListener("pause",function(){t.classList.remove(playingCssClass)})})))}),document.getElementById("search-form").addEventListener("submit",function(e){e.preventDefault(),searchAlbums(document.getElementById("query").value)},!1),function(){function e(e){function t(e){return"https://accounts.spotify.com/authorize?client_id="+n+"&redirect_uri="+encodeURIComponent(o)+"&scope="+encodeURIComponent(e.join(" "))+"&response_type=token"}var n="ee6b01e0436142d99276de0c60695542",o="http://mauricioandrades.github.io/?#3",a=t(["user-read-email"]),s=450,i=730,c=screen.width/2-s/2,l=screen.height/2-i/2;window.addEventListener("message",function(t){var n=JSON.parse(t.data);"access_token"==n.type&&e(n.access_token)},!1);var r=window.open(a,"Spotify","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width="+s+", height="+i+", top="+l+", left="+c)}function t(e){return $.ajax({url:"https://api.spotify.com/v1/me",headers:{Authorization:"Bearer "+e}})}loginButton=document.getElementById("btn-login"),loginButton.addEventListener("click",function(){e(function(e){t(e).then(function(e){loginButton.style.display="none",resultsPlaceholder.innerHTML=template(e)})})})}();var hash=window.location.hash,token="";hash&&(token=window.location.hash.split("&")[0].split("=")[1]);
//# sourceMappingURL=./main-min.js.map